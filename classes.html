<html>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
      <div class="mermaid">
    
        classDiagram
          class AlphaFinderConfig {
            acceptance_threshold_lower : Optional[float]
            acceptance_threshold_upper : Optional[float]
            alpha_lb : float
            alpha_ub : float
            current_gene : Optional[str]
            early_stop : bool
            ever_eval : bool
            exp_leap : float
            found_alpha : Optional[bool]
            i_iter : int
            is_growth_switch : Optional[bool]
            is_monoculture : Optional[bool]
            is_new_ub : Optional[bool]
            iter_max : int
            ko_intercepted : bool
            model : Optional[Union['cobra.Model', List['cobra.Model']]]
            precision : int
            search_alpha : Optional[float]
            target_obj_val : Optional[float]
            trace_obj_val : Optional[dict]
            classify_growth_switch(min_attain, max_attain) bool
            eval_alpha_fun()*
            find_feasible_alpha()
            get_next_alpha(search_alpha, alpha_lb, alpha_ub, is_new_ub, exp_leap)
            is_found(search_alpha, alpha_lb, alpha_ub, precision)
            out_fun()*
          }
          class BasicModel {
            E0 : Model
            E_carbon_byproduct_reuptake : bool
            S0 : Model
            ac_scale : float
            all_components : Optional[Dict[str, Any]]
            c_limiting_conc : int
            flux_weighting : Optional[bool]
            gal_scale : float
            met_limiting_conc : int
            model_directory : str
            implement_flux_weighting()
            load_ES_models()
            set_ES_medium()
          }
          class CheckerboardAlphaFinder {
            alpha_table : NoneType
            checker_lvs : DataFrame
            data_directory : NoneType
            maf_kwargs : dict
            n_levels
            response_record : Dict, NoneType
            result_dict : dict
            species_list : list
            target_gene_list : list
            construct_checker_lvs()
            fill_dict(model, current_gene, nbiomass_x)
            get_checkerboard_alpha_table()
            get_new_response_record()
            match_alpha_lvs(current_gene)
            process_record_in_gene(current_gene)
            set_default_kwargs(key, default_value)
            set_response_record_format(response_record, normalized_growth)
          }
          class CocultureAlphaFinder {
            E0
            S0
            acceptance_threshold_lower : float
            acceptance_threshold_upper : float
            add_nutrient_val : float
            alpha_pair : DataFrame
            alpha_table : DataFrame
            alpha_use : float
            carbon_source_val : float
            co_sim
            cocdf
            converge_alpha
            current_gene : str
            data_path : NoneType
            eval_alpha_fun
            exp_leap : float, int
            found_alpha
            gr_Normal : Optional[float]
            gr_ko : Optional[float]
            initial_pop : float
            is_growth_switch : bool
            is_monoculture : bool
            is_new_ub
            ko_intercepted : NoneType
            model : List['cobra.Model']
            n_dir : str
            nxt_alpha_table : DataFrame
            obj_found
            obj_style : str
            opt_alpha_table : DataFrame
            opt_df : list
            out_fun
            p : NoneType
            precision : int
            search_alpha : float
            target_obj_val : float
            trace_alpha : List
            trace_biomass : List
            trace_obj_val : List
            cal_fitted_gr(coculture_biomass_df)
            cal_std_gr(coculture_biomass_df, gr_Normal)
            calculate_gr_Normal()
            calculate_gr_ko()
            eval_alpha_fun(alpha_overwrite)
            generate_next_fixed_ratio_table()
            get_alpha_use()
            out_fun()
          }
          class DrugCombinationEffectClassification {
            additive_threshold : float
            dfs_in_DG_layer
            dfs_in_SG_layer
            pure_dg_gr : NoneType
            get_gr_df()
            get_normalized_gr_df()
          }
          class GeneFormatHandler {
            DG : NoneType
            SG : NoneType, tuple
            XG : NoneType
            first_gene : NoneType
            gene_str
            is_DG : bool
            is_Normal
            is_checkerboard_format : NoneType, bool
            second_gene : NoneType
            classify_XG()
            set_fs_gene()
            trim(gene_str)
          }
          class LayoutConfig {
            E0 : str
            E_model : str
            S0 : str
            S_model : str
            Smono_carbon_source : str
            base_nutrients : Optional[List]
            carbon_source : Optional[Dict[str, str]]
            carbon_source_val : float
            co : bool
            co_layout
            initial_pop : float
            mono : bool
            monoE_layout
            monoS_layout : layout
            mono_E : bool
            mono_S : bool
            nutrients_val : int
            obj_style : str
            create_common_media(species: List['cobra.Model'], carbon_source: str, carbon_source_val: float, additonal_nutrients: List[str], additonal_nutrients_val: List[int])
            set_comets_model(E0, S0)
            set_layout_object()
          }
          class MethodDataFiller {
            XGs : set
            additive_threshold : float
            data_directory
            df_container
            methods : set
            fill_container()
            write_to_csv()
          }
          class MonocultureAlphaFinder {
            acceptance_threshold_lower : int
            acceptance_threshold_upper : float
            exp_leap : float
            found_alpha
            is_monoculture : bool
            is_new_ub
            model : str
            net_flux
            norm_obj_val : Optional[float]
            opt_df : DataFrame
            response_record : Optional[Dict]
            search_alpha : float
            target_normalized_biomass : float
            target_obj_val : float
            trace_obj_val : List
            eval_alpha_fun()
            fill_response_record(obj_val, is_lowest_abs_diff)
            out_fun()
          }
          class SimObjectBase {
            E0 : str
            S0 : str
            alpha_table : DataFrame
            biomass_df
            culture : str
            current_gene : str
            model_dict : dict
            sim_object : str
            species_list
          }
          class SimulateCombinedAntibiotics {
            alpha_table : DataFrame
            base : Optional[str]
            biomass_df : DataFrame
            checker_suffix : str
            co_sim_object : str
            current_gene : str
            flux_df : NoneType
            ko : bool
            mono_sim_object_list : List['comets.simulation']
            p : str
            return_sim : bool
            sim_object_list : List['comets.simulation']
            working_dir : Optional[str]
            checker_adjustment()
            cleanup()
            get_BM_df()
          }
          CocultureAlphaFinder --|> AlphaFinderConfig
          MonocultureAlphaFinder --|> AlphaFinderConfig
          SimulateCombinedAntibiotics --|> LayoutConfig
          MonocultureAlphaFinder --* CheckerboardAlphaFinder : response_record
  
       </div>
  </body>
</html>
